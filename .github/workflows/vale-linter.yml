name: Linting

on: pull_request

permissions:
  contents: read

jobs:
  prose:
    if: github.repository == 'timescale/docs'
    runs-on: ubuntu-latest
    steps:
    - name: Checkout
      uses: actions/checkout@a5ac7e51b41094c92402da3b24376905380afc29

    - name: Vale
      uses: errata-ai/vale-action@c4213d4de3d5f718b8497bd86161531c78992084
      with:
        files: '["_partials", "_troubleshooting", "about", "api", "getting-started", "mst", "navigation", "quick-start", "self-hosted", "tutorials", "use-timescale", "ai"]'
      env:
        GITHUB_TOKEN: ${{secrets.GITHUB_TOKEN}}
