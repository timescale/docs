name: Vale Linter

on: [push, pull_request]

jobs:
  lint:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout code
      uses: actions/checkout@v2

    - name: Install Vale
      run: |
        curl -sSfL https://github.com/errata-ai/vale/releases/latest/download/vale.tgz | tar xz -C /usr/local/bin

    - name: Run Vale
      run: |
        vale --version
        vale --output=github --files _partials _troubleshooting about api getting-started mst navigation quick-start self-hosted tutorials use-timescale ai
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
