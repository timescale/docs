name: Linting

on: pull_request

permissions:
  contents: read

jobs:
  prose:
    if: github.repository == 'timescale/docs'
    runs-on: ubuntu-latest
    steps:
    - name: Checkout
      uses: actions/checkout@c85c95e3d7251135ab7dc9ce3241c5835cc595a9

    - name: Vale
      uses: errata-ai/vale-action@38bf078c328061f59879b347ca344a718a736018
      with:
        files: '["_partials", "_troubleshooting", "about", "api", "getting-started", "mst", "navigation", "quick-start", "self-hosted", "tutorials", "use-timescale", "ai"]'
      env:
        GITHUB_TOKEN: ${{secrets.GITHUB_TOKEN}}
